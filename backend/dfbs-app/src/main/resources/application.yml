server:
  port: 8080

dfbs:
  dev:
    # Dev-only: when true and profile=dev, seed non-allowlist user "admin2" for 403 verification. Default false (never in prod).
    seedNonAllowlistUser: false
  perm:
    # Comma-separated userId (as string) for 角色与权限 access. Example: superAdminAllowlist: "1,2"
    # Dev: admin user (from POST /api/auth/login user.id when username=admin) typically has id 1.
    superAdminAllowlist: "1"
  company:
    name: "DFBS 示例公司"
    bank-name: "示例银行"
    bank-no: "BANK001"
    tax-no: "91110000MA0000000X"
    account-no: "1234567890123456"
    phone: "400-000-0000"
    address: "示例地址"

spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  datasource:
    url: jdbc:postgresql://localhost:5432/dfbs
    username: dfbs
    password: dfbs
  jpa:
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: true
    baseline-on-migrate: true
    # CRITICAL: Disable all validation to bypass the missing V0056 error
    validate-on-migrate: false
    ignore-missing-migrations: true

# OpenAPI: avoid scanning RestControllerAdvice (compatibility with Spring Boot 3.5); keep unreferenced schemas (ErrorResult)
springdoc:
  override-with-generic-response: false
  remove-broken-reference-definitions: false

management:
  endpoints:
    web:
      exposure:
        include: health,info
logging:
  file:
    name: logs/dfbs-app.log        